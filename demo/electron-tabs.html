<!DOCTYPE html>
<html >

<head>
    <link rel="stylesheet" href="electron-tabs.css">
</head>
<body>

<div class="etabs-tabgroup" style="-webkit-app-region: drag">
    <div id="topbar">

    </div>
    <div class="etabs-tabs"></div>
    <div class="etabs-buttons"></div>
    

    </div>
</div>
<div class="etabs-views">

</div>
<div id="loading">
  <img src="img/Rolling.svg" >
</div>
<div class="plusbutton" id="plus" onclick="addtab();">
  <img src="img/add.svg" width="60%">
</div>
<script>
    const TabGroup = require('electron-tabs');

    let tabGroup = new TabGroup();
    function addtab(){
      tabGroup.addTab({ icon: '', title: '', src: 'chooseApp.html', visible:true, active: true });

        var webview = document.querySelector('.etabs-views .visible');
          webview.addEventListener("did-start-loading", function() {
            webview.addEventListener("did-navigate", function () {
               webview.style.display = "none";
              document.getElementById('loading').style.display = "flex";
              document.getElementById('plus').style.display = 'none'; 
            });
            
             

          });
          webview.addEventListener("did-stop-loading", function() { 
            document.getElementById('plus').style.display = 'flex'; 

            if (webview.getURL() == "https://trello.com/") {
              document.querySelector('.etabs-tabs .active').innerHTML = '<img src="img/trello.svg"  width="80%"/>';
            }
            if (webview.getURL() == "https://evernote.com/") {
              document.querySelector('.etabs-tabs .active').innerHTML = '<img src="img/evernote-logo.svg" width="80%" />';
            } if (webview.getURL() == "https://bitbucket.org/") {
              document.querySelector('.etabs-tabs .active').innerHTML = '<img src="img/bitbucket-logotype-camera-lens-in-perspective.svg" width="80%" />';
            } if (webview.getURL() == "https://slack.com/") {
              document.querySelector('.etabs-tabs .active').innerHTML = '<img src="img/slack-symbol.svg" width="80%" />';
            } if (webview.getURL() == "https://linkedin.com/") {
              document.querySelector('.etabs-tabs .active').innerHTML = '<img src="img/linkedin.svg" width="80%" />';
            }
            if (webview.getURL() == "http://adwords.google.com/") {
              document.querySelector('.etabs-tabs .active').innerHTML = '<img src="img/adwords.svg" width="80%" />';
            } if (webview.getURL() == "https://stackoverflow.com/") {
              document.querySelector('.etabs-tabs .active').innerHTML = '<img src="img/stack-overflow.svg" width="80%" />';
            }
            document.getElementById('loading').style.display = "none";
            webview.style.display = "flex";
            

          });
     }
    addtab();
</script>
</body>
</html>
